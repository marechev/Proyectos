
:- use_module(library(lists)).
%:- use_module(library(csv)).
%:- csv_read_file('tfgbdversion300.csv', Data,[functor(tfgdb),separator(',')]),maplist(assert, Data).

%bd
 tfgdb(2033, ' usa', 27, 836220889, 10, 'Calvin and Hobbes', 'Bill Watterson, GB Trudeau (Foreword)', 'English', 'Comics', 'Humor', 'Graphic Novels', 'Fiction', 'Childrens', 'Comedy', 'Graphic Novels Comics', 'Comic Book', 'Classics', 'Comic Strips', 128, 87). tfgdb(2033, ' usa', 27, 886774004, 10, 'Arrows Fall', 'Mercedes Lackey', 'English', 'Fantasy', 'Fiction', 'Science Fiction Fantasy', 'Young Adult', 'High Fantasy', 'Magic', 'Epic Fantasy', 'Romance', 'Adventure', 'Adult', 319, 88). tfgdb(2033, ' usa', 27, 886776619, 9, 'Storm Warning', 'Mercedes Lackey', 'English', 'Fantasy', 'Fiction', 'Science Fiction Fantasy', 'High Fantasy', 'Magic', 'Epic Fantasy', 'Adult', 'Adventure', 'Young Adult', 'Science Fiction', 428, 94). tfgdb(10560, ' usa', 27, 452281431, 8, 'Beautys Punishment', 'AN Roquelaure (pseudonym), Anne Rice', 'English', 'Erotica', 'Fiction', 'Fantasy', 'Romance', 'BDSM', 'Adult', 'Fairy Tales', 'Adult Fiction', 'Sexuality', 'Erotic Romance', 233, 84). tfgdb(10560, ' usa', 27, 452284449, 8, 'The Virgin Blue', 'Tracy Chevalier (Goodreads Author)', 'English', 'Historical Fiction', 'Fiction', 'Historical', 'France', 'Art', 'Mystery', 'Romance', 'Adult Fiction', 'Adult', 'Contemporary', 304, 97). tfgdb(10560, ' usa', 27, 765341174, 8, 'Sarah', 'Orson Scott Card', 'English', 'Historical Fiction', 'Fiction', 'Religion', 'Historical', 'Biblical Fiction', 'Lds', 'Christian Fiction', 'Christian', 'Lds Fiction', 'Fantasy', 341, 0). tfgdb(13552, ' usa', 32, 380899531, 9, 'Love Only Once', 'Johanna Lindsey', 'English', 'Historical Romance', 'Romance', 'Historical', 'Regency', 'Historical Fiction', 'Fiction', 'Regency Romance', 'Adult', 'British Literature', 'Pirates', 344, 85). tfgdb(13552, ' usa', 32, 380756285, 7, 'Angel', 'Johanna Lindsey', 'English', 'Romance', 'Historical Romance', 'Historical', 'Westerns', 'Western Romance', 'Historical Fiction', 'Fiction', 'Adult', 'Western Historical Romance', 'Love', 416, 92). tfgdb(13552, ' usa', 32, 440222842, 6, 'Five Days in Paris', 'Danielle Steel', 'English', 'Romance', 'Fiction', 'Chick Lit', 'Novels', 'Contemporary', 'France', 'Contemporary Romance', 'Adult Fiction', 'Love', 'Adult', 291, 95). tfgdb(16795, ' usa', 47, 385720106, 9, 'A Map of the World', 'Jane Hamilton, Frank Muller (Narrator), CJ Critt (Narrator)', 'English', 'Fiction', 'Contemporary', 'Adult Fiction', 'Literary Fiction', 'Novels', 'Literature', 'Drama', 'Adult', 'Realistic Fiction', 'Family', 400, 92). tfgdb(16795, ' usa', 47, 375701214, 8, 'The Diving Bell and the Butterfly', 'Jean-Dominique Bauby, Jeremy Leggatt (Translator)', 'English', 'Nonfiction', 'Memoir', 'Biography', 'Biography Memoir', 'Autobiography', 'France', 'Medicine', 'Medical', 'Classics', 'Disability', 132, 97). tfgdb(16795, ' usa', 47, 671525743, 8, 'Night Whispers', 'Judith McNaught', 'English', 'Romance', 'Contemporary Romance', 'Contemporary', 'Romantic Suspense', 'Fiction', 'Suspense', 'Mystery', 'Chick Lit', 'Adult', 'Historical Romance', 451, 98). tfgdb(16795, ' usa', 47, 440194903, 8, 'When the Wind Blows', 'John Saul', 'English', 'Horror', 'Fiction', 'Thriller', 'Mystery', 'Supernatural', 'Suspense', 'Adult', 'Paranormal', 'Mystery Thriller', 'Fantasy', 352, 81). tfgdb(44852, ' usa', 39, 1576737330, 7, 'The Prayer of Jabez: Breaking Through to the Blessed Life', 'Bruce H Wilkinson', 'English', 'Christian', 'Nonfiction', 'Religion', 'Prayer', 'Christianity', 'Spirituality', 'Faith', 'Christian Living', 'Christian Non Fiction', 'Inspirational', 93, 0). tfgdb(44852, ' usa', 39, 375725784, 8, 'A Heartbreaking Work of Staggering Genius', 'Dave Eggers', 'English', 'Fiction', 'Contemporary', 'Literature', 'Novels', 'Humor', 'Biography Memoir', 'American', 'Unfinished', 'Adult', 'Literary Fiction', 485, 0). tfgdb(44852, ' usa', 39, 385720106, 6, 'A Map of the World', 'Jane Hamilton, Frank Muller (Narrator), CJ Critt (Narrator)', 'English', 'Fiction', 'Contemporary', 'Adult Fiction', 'Literary Fiction', 'Novels', 'Literature', 'Drama', 'Adult', 'Realistic Fiction', 'Family', 400, 92). tfgdb(44852, ' usa', 39, 375702709, 8, 'A Lesson Before Dying', 'Ernest J Gaines', 'English', 'Fiction', 'Classics', 'Historical Fiction', 'African American', 'School', 'Literature', 'Adult Fiction', 'Novels', 'Historical', 'Literary Fiction', 256, 93). tfgdb(46398, ' usa', 37, 385486804, 7, 'Into the Wild', 'Jon Krakauer (Goodreads Author)', 'English', 'Nonfiction', 'Biography', 'Travel', 'Adventure', 'Classics', 'Memoir', 'Nature', 'Biography Memoir', 'School', 'Survival', 207, 96). tfgdb(46398, ' usa', 37, 345316509, 10, 'Job: A Comedy of Justice', 'Robert A Heinlein', 'English', 'Science Fiction', 'Fiction', 'Fantasy', 'Science Fiction Fantasy', 'Humor', 'Religion', 'Speculative Fiction', 'Comedy', 'Adventure', 'Novels', 439, 84). tfgdb(46398, ' usa', 37, 380752867, 7, 'And Eternity', 'Piers Anthony', 'English', 'Fantasy', 'Fiction', 'Science Fiction', 'Science Fiction Fantasy', 'Urban Fantasy', 'Paranormal', 'Magic', 'Mythology', 'Supernatural', 'Adult', 378, 89). tfgdb(56399, ' united kingdom', 63, 452284449, 8, 'The Virgin Blue', 'Tracy Chevalier (Goodreads Author)', 'English', 'Historical Fiction', 'Fiction', 'Historical', 'France', 'Art', 'Mystery', 'Romance', 'Adult Fiction', 'Adult', 'Contemporary', 304, 97). tfgdb(56399, ' united kingdom', 63, 61000027, 10, 'Dance Hall of the Dead', 'Tony Hillerman', 'English', 'Mystery', 'Fiction', 'Crime', 'Mystery Thriller', 'Westerns', 'Audiobook', 'Detective', 'Thriller', 'American', 'Adult', 255, 73). tfgdb(56399, ' united kingdom', 63, 440178002, 10, 'Sh?gun', 'James Clavell', 'English', 'Historical Fiction', 'Fiction', 'Japan', 'Historical', 'Classics', 'Adventure', 'Asia', 'Literature', 'Novels', 'Japanese Literature', 1152, 75). tfgdb(56447, ' usa', 22, 60958022, 8, 'Five Quarters of the Orange', 'Joanne Harris (Goodreads Author)', 'English', 'Fiction', 'Historical Fiction', 'France', 'Historical', 'Food', 'World War II', 'Contemporary', 'War', 'Book Club', 'Mystery', 307, 1). tfgdb(56447, ' usa', 22, 375702709, 7, 'A Lesson Before Dying', 'Ernest J Gaines', 'English', 'Fiction', 'Classics', 'Historical Fiction', 'African American', 'School', 'Literature', 'Adult Fiction', 'Novels', 'Historical', 'Literary Fiction', 256, 93). tfgdb(56447, ' usa', 22, 842329293, 7, 'The Indwelling', 'Tim LaHaye, Jerry B Jenkins (Goodreads Author)', 'English', 'Christian Fiction', 'Fiction', 'Christian', 'Religion', 'Fantasy', 'Thriller', 'Christianity', 'Faith', 'Apocalyptic', 'Spirituality', 389, 0). tfgdb(60244, ' usa', 47, 1576737330, 8, 'The Prayer of Jabez: Breaking Through to the Blessed Life', 'Bruce H Wilkinson', 'English', 'Christian', 'Nonfiction', 'Religion', 'Prayer', 'Christianity', 'Spirituality', 'Faith', 'Christian Living', 'Christian Non Fiction', 'Inspirational', 93, 0). tfgdb(60244, ' usa', 47, 385720106, 8, 'A Map of the World', 'Jane Hamilton, Frank Muller (Narrator), CJ Critt (Narrator)', 'English', 'Fiction', 'Contemporary', 'Adult Fiction', 'Literary Fiction', 'Novels', 'Literature', 'Drama', 'Adult', 'Realistic Fiction', 'Family', 400, 92). tfgdb(60244, ' usa', 47, 807508527, 7, 'The Boxcar Children', 'Gertrude Chandler Warner, L Kate Deal (Illustrator)', 'English', 'Childrens', 'Fiction', 'Mystery', 'Classics', 'Young Adult', 'Middle Grade', 'Chapter Books', 'Adventure', 'Juvenile', 'Realistic Fiction', 160, 42).
tfgdb(60244, ' usa', 47, 375702709, 9, 'A Lesson Before Dying', 'Ernest J Gaines', 'English', 'Fiction', 'Classics', 'Historical Fiction', 'African American', 'School', 'Literature', 'Adult Fiction', 'Novels', 'Historical', 'Literary Fiction', 256, 93). tfgdb(74026, ' usa', 21, 812513738, 8, 'The Shadow Rising', 'Robert Jordan', 'English', 'Fantasy', 'Fiction', 'Epic Fantasy', 'Science Fiction Fantasy', 'High Fantasy', 'Epic', 'Adventure', 'Audiobook', 'Magic', 'Adult', 1007, 92). tfgdb(74026, ' usa', 21, 812565959, 8, 'Shadow of the Hegemon', 'Orson Scott Card', 'English', 'Science Fiction', 'Fiction', 'Science Fiction Fantasy', 'Fantasy', 'Young Adult', 'Audiobook', 'Adventure', 'Novels', 'Space', 'War', 451, 0). tfgdb(74026, ' usa', 21, 345316509, 7, 'Job: A Comedy of Justice', 'Robert A Heinlein', 'English', 'Science Fiction', 'Fiction', 'Fantasy', 'Science Fiction Fantasy', 'Humor', 'Religion', 'Speculative Fiction', 'Comedy', 'Adventure', 'Novels', 439, 84). tfgdb(78973, ' portugal', 29, 836220889, 10, 'Calvin and Hobbes', 'Bill Watterson, GB Trudeau (Foreword)', 'English', 'Comics', 'Humor', 'Graphic Novels', 'Fiction', 'Childrens', 'Comedy', 'Graphic Novels Comics', 'Comic Book', 'Classics', 'Comic Strips', 128, 87). tfgdb(78973, ' portugal', 29, 60958022, 8, 'Five Quarters of the Orange', 'Joanne Harris (Goodreads Author)', 'English', 'Fiction', 'Historical Fiction', 'France', 'Historical', 'Food', 'World War II', 'Contemporary', 'War', 'Book Club', 'Mystery', 307, 1). tfgdb(78973, ' portugal', 29, 440222842, 7, 'Five Days in Paris', 'Danielle Steel', 'English', 'Romance', 'Fiction', 'Chick Lit', 'Novels', 'Contemporary', 'France', 'Contemporary Romance', 'Adult Fiction', 'Love', 'Adult', 291, 95). tfgdb(78973, ' portugal', 29, 553582895, 10, 'Dark Rivers of the Heart', 'Dean Koontz (Goodreads Author)', 'English', 'Horror', 'Fiction', 'Thriller', 'Suspense', 'Mystery', 'Mystery Thriller', 'Science Fiction', 'Action', 'Fantasy', 'Crime', 582, 94). tfgdb(91113, ' usa', 26, 152017682, 7, 'The Darkangel', 'Meredith Ann Pierce', 'English', 'Young Adult', 'Fantasy', 'Romance', 'Paranormal', 'Fiction', 'Young Adult Fantasy', 'Angels', 'Vampires', 'Science Fiction', 'Supernatural', 281, 82). tfgdb(91113, ' usa', 26, 425184226, 7, 'The Sum of All Fears', 'Tom Clancy', '', 'Fiction', 'Thriller', 'Espionage', 'Action', 'Military Fiction', 'Suspense', 'Adventure', 'Mystery', 'Mystery Thriller', 'Spy Thriller', 928, 91). tfgdb(91113, ' usa', 26, 425192733, 8, 'Portrait of a Killer: Jack the Ripper - Case Closed', 'Patricia Cornwell (Goodreads Author)', 'English', 'Nonfiction', 'True Crime', 'History', 'Crime', 'Mystery', 'Biography', 'Historical', 'Thriller', 'Horror', 'British Literature', 383, 2). tfgdb(91113, ' usa', 26, 553581058, 9, 'O Jerusalem', 'Laurie R King (Goodreads Author)', 'English', 'Mystery', 'Historical Fiction', 'Fiction', 'Historical Mystery', 'Historical', 'Crime', 'Mystery Thriller', 'Adult', 'Adventure', 'Audiobook', 425, 99). tfgdb(95359, ' usa', 33, 385486804, 10, 'Into the Wild', 'Jon Krakauer (Goodreads Author)', 'English', 'Nonfiction', 'Biography', 'Travel', 'Adventure', 'Classics', 'Memoir', 'Nature', 'Biography Memoir', 'School', 'Survival', 207, 96). tfgdb(95359, ' usa', 33, 375725784, 9, 'A Heartbreaking Work of Staggering Genius', 'Dave Eggers', 'English', 'Fiction', 'Contemporary', 'Literature', 'Novels', 'Humor', 'Biography Memoir', 'American', 'Unfinished', 'Adult', 'Literary Fiction', 485, 0). tfgdb(95359, ' usa', 33, 452281431, 7, 'Beautys Punishment', 'AN Roquelaure (pseudonym), Anne Rice', 'English', 'Erotica', 'Fiction', 'Fantasy', 'Romance', 'BDSM', 'Adult', 'Fairy Tales', 'Adult Fiction', 'Sexuality', 'Erotic Romance', 233, 84). tfgdb(95359, ' usa', 33, 375701214, 8, 'The Diving Bell and the Butterfly', 'Jean-Dominique Bauby, Jeremy Leggatt (Translator)', 'English', 'Nonfiction', 'Memoir', 'Biography', 'Biography Memoir', 'Autobiography', 'France', 'Medicine', 'Medical', 'Classics', 'Disability', 132, 97). tfgdb(95359, ' usa', 33, 807508527, 9, 'The Boxcar Children', 'Gertrude Chandler Warner, L Kate Deal (Illustrator)', 'English', 'Childrens', 'Fiction', 'Mystery', 'Classics', 'Young Adult', 'Middle Grade', 'Chapter Books', 'Adventure', 'Juvenile', 'Realistic Fiction', 160, 42). tfgdb(95359, ' usa', 33, 743477154, 9, 'Postmortem', 'Patricia Daniels Cornwell, Patricia Cornwell (Goodreads Author)', 'English', 'Mystery', 'Crime', 'Fiction', 'Thriller', 'Mystery Thriller', 'Suspense', 'Murder Mystery', 'Detective', 'Adult', 'Audiobook', 342, 90). tfgdb(98943, ' canada', 32, 345335708, 7, 'Castle of Wizardry', 'David Eddings', 'English', 'Fantasy', 'Fiction', 'Epic Fantasy', 'Science Fiction Fantasy', 'High Fantasy', 'Adventure', 'Magic', 'Young Adult', 'Epic', 'Audiobook', 375, 84). tfgdb(98943, ' canada', 32, 345316509, 8, 'Job: A Comedy of Justice', 'Robert A Heinlein', 'English', 'Science Fiction', 'Fiction', 'Fantasy', 'Science Fiction Fantasy', 'Humor', 'Religion', 'Speculative Fiction', 'Comedy', 'Adventure', 'Novels', 439, 84). tfgdb(98943, ' canada', 32, 380752867, 7, 'And Eternity', 'Piers Anthony', 'English', 'Fantasy', 'Fiction', 'Science Fiction', 'Science Fiction Fantasy', 'Urban Fantasy', 'Paranormal', 'Magic', 'Mythology', 'Supernatural', 'Adult', 378, 89). tfgdb(100906, ' usa', 34, 385486804, 9, 'Into the Wild', 'Jon Krakauer (Goodreads Author)', 'English', 'Nonfiction', 'Biography', 'Travel', 'Adventure', 'Classics', 'Memoir', 'Nature', 'Biography Memoir', 'School', 'Survival', 207, 96). tfgdb(100906, ' usa', 34, 375705090, 8, 'Zen in the Art of Archery', 'Eugen Herrigel, DT Suzuki (Introduction), ?????? ? ????????? (Translator), RFC Hull (Translator)', 'English', 'Philosophy', 'Nonfiction', 'Buddhism', 'Zen', 'Spirituality', 'Religion', 'Japan', 'Martial Arts', 'Psychology', 'Classics', 81, 48). tfgdb(100906, ' usa', 34, 345335708, 9, 'Castle of Wizardry', 'David Eddings', 'English', 'Fantasy', 'Fiction', 'Epic Fantasy', 'Science Fiction Fantasy', 'High Fantasy', 'Adventure', 'Magic', 'Young Adult', 'Epic', 'Audiobook', 375, 84). tfgdb(100906, ' usa', 34, 807508527, 9, 'The Boxcar Children', 'Gertrude Chandler Warner, L Kate Deal (Illustrator)', 'English', 'Childrens', 'Fiction', 'Mystery', 'Classics', 'Young Adult', 'Middle Grade', 'Chapter Books', 'Adventure', 'Juvenile', 'Realistic Fiction', 160, 42). tfgdb(100906, ' usa', 34, 679767800, 9, 'The Stars My Destination', 'Alfred Bester, Neil Gaiman (Goodreads Author) (Introduction)', 'English', 'Science Fiction', 'Fiction', 'Classics', 'Cyberpunk', 'Science Fiction Fantasy', 'Space Opera', 'Fantasy', 'Novels', 'Speculative Fiction', 'Space', 258, 55).
tfgdb(100906, ' usa', 34, 553295276, 9, 'Beauty', 'Sheri S Tepper', 'English', 'Fantasy', 'Science Fiction', 'Fiction', 'Fairy Tales', 'Science Fiction Fantasy', 'Time Travel', 'Retellings', 'Feminism', 'Dystopia', 'Speculative Fiction', 463, 91). tfgdb(100906, ' usa', 34, 679733973, 7, 'The Killer Inside Me', 'Jim Thompson', 'English', 'Fiction', 'Crime', 'Mystery', 'Noir', 'Thriller', 'Horror', 'Classics', 'Mystery Thriller', 'Novels', 'Suspense', 244, 52). tfgdb(105517, ' canada', 28, 836220889, 9, 'Calvin and Hobbes', 'Bill Watterson, GB Trudeau (Foreword)', 'English', 'Comics', 'Humor', 'Graphic Novels', 'Fiction', 'Childrens', 'Comedy', 'Graphic Novels Comics', 'Comic Book', 'Classics', 'Comic Strips', 128, 87). tfgdb(105517, ' canada', 28, 60958022, 6, 'Five Quarters of the Orange', 'Joanne Harris (Goodreads Author)', 'English', 'Fiction', 'Historical Fiction', 'France', 'Historical', 'Food', 'World War II', 'Contemporary', 'War', 'Book Club', 'Mystery', 307, 1). tfgdb(105517, ' canada', 28, 452283442, 8, 'The Darwin Awards: Evolution in Action', 'Wendy Northcutt', 'English', 'Humor', 'Nonfiction', 'Comedy', 'Science', 'Short Stories', 'Reference', 'Evolution', 'Death', 'Anthologies', 'Adult', 352, 0). tfgdb(110934, ' usa', 46, 64400565, 8, 'Stuart Little', 'EB White, Garth Williams (Illustrator)', 'English', 'Childrens', 'Classics', 'Fiction', 'Fantasy', 'Animals', 'Young Adult', 'Middle Grade', 'Adventure', 'Chapter Books', 'Juvenile', 131, 45). tfgdb(110934, ' usa', 46, 60958022, 10, 'Five Quarters of the Orange', 'Joanne Harris (Goodreads Author)', 'English', 'Fiction', 'Historical Fiction', 'France', 'Historical', 'Food', 'World War II', 'Contemporary', 'War', 'Book Club', 'Mystery', 307, 1). tfgdb(110934, ' usa', 46, 64408639, 8, 'The Austere Academy', 'Lemony Snicket (Goodreads Author), Brett Helquist (Illustrator)', 'English', 'Fiction', 'Young Adult', 'Childrens', 'Fantasy', 'Middle Grade', 'Mystery', 'Adventure', 'Humor', 'Audiobook', 'Juvenile', 221, 0). tfgdb(110934, ' usa', 46, 345411471, 8, 'Eureka', 'William Diehl', 'English', 'Fiction', 'Mystery', 'Crime', 'Thriller', 'Mystery Thriller', 'Historical Fiction', 'Historical Mystery', 'Detective', '', '', 480, 2). tfgdb(150979, ' usa', 34, 1576737330, 6, 'The Prayer of Jabez: Breaking Through to the Blessed Life', 'Bruce H Wilkinson', 'English', 'Christian', 'Nonfiction', 'Religion', 'Prayer', 'Christianity', 'Spirituality', 'Faith', 'Christian Living', 'Christian Non Fiction', 'Inspirational', 93, 0). tfgdb(150979, ' usa', 34, 375725784, 7, 'A Heartbreaking Work of Staggering Genius', 'Dave Eggers', 'English', 'Fiction', 'Contemporary', 'Literature', 'Novels', 'Humor', 'Biography Memoir', 'American', 'Unfinished', 'Adult', 'Literary Fiction', 485, 0). tfgdb(150979, ' usa', 34, 64400565, 9, 'Stuart Little', 'EB White, Garth Williams (Illustrator)', 'English', 'Childrens', 'Classics', 'Fiction', 'Fantasy', 'Animals', 'Young Adult', 'Middle Grade', 'Adventure', 'Chapter Books', 'Juvenile', 131, 45). tfgdb(153054, ' usa', 20, 64408639, 8, 'The Austere Academy', 'Lemony Snicket (Goodreads Author), Brett Helquist (Illustrator)', 'English', 'Fiction', 'Young Adult', 'Childrens', 'Fantasy', 'Middle Grade', 'Mystery', 'Adventure', 'Humor', 'Audiobook', 'Juvenile', 221, 0). tfgdb(153054, ' usa', 20, 743246071, 9, 'The Queens Fool', 'Philippa Gregory (Goodreads Author)', 'English', 'Historical Fiction', 'Fiction', 'Historical', 'Romance', 'Tudor Period', 'British Literature', 'Adult', 'Historical Romance', 'Adult Fiction', 'Chick Lit', 490, 3). tfgdb(153054, ' usa', 20, 812565959, 9, 'Shadow of the Hegemon', 'Orson Scott Card', 'English', 'Science Fiction', 'Fiction', 'Science Fiction Fantasy', 'Fantasy', 'Young Adult', 'Audiobook', 'Adventure', 'Novels', 'Space', 'War', 451, 0). tfgdb(153054, ' usa', 20, 765340054, 9, 'Shadow Puppets', 'Orson Scott Card', 'English', 'Science Fiction', 'Fiction', 'Science Fiction Fantasy', 'Fantasy', 'Young Adult', 'Audiobook', 'Novels', 'Adventure', 'Space', 'War', 384, 2). tfgdb(153662, ' usa', 44, 380756285, 9, 'Angel', 'Johanna Lindsey', 'English', 'Romance', 'Historical Romance', 'Historical', 'Westerns', 'Western Romance', 'Historical Fiction', 'Fiction', 'Adult', 'Western Historical Romance', 'Love', 416, 92). tfgdb(153662, ' usa', 44, 671525743, 10, 'Night Whispers', 'Judith McNaught', 'English', 'Romance', 'Contemporary Romance', 'Contemporary', 'Romantic Suspense', 'Fiction', 'Suspense', 'Mystery', 'Chick Lit', 'Adult', 'Historical Romance', 451, 98). tfgdb(153662, ' usa', 44, 440194903, 10, 'When the Wind Blows', 'John Saul', 'English', 'Horror', 'Fiction', 'Thriller', 'Mystery', 'Supernatural', 'Suspense', 'Adult', 'Paranormal', 'Mystery Thriller', 'Fantasy', 352, 81). tfgdb(159858, ' usa', 37, 385486804, 7, 'Into the Wild', 'Jon Krakauer (Goodreads Author)', 'English', 'Nonfiction', 'Biography', 'Travel', 'Adventure', 'Classics', 'Memoir', 'Nature', 'Biography Memoir', 'School', 'Survival', 207, 96). tfgdb(159858, ' usa', 37, 345316509, 8, 'Job: A Comedy of Justice', 'Robert A Heinlein', 'English', 'Science Fiction', 'Fiction', 'Fantasy', 'Science Fiction Fantasy', 'Humor', 'Religion', 'Speculative Fiction', 'Comedy', 'Adventure', 'Novels', 439, 84). tfgdb(159858, ' usa', 37, 743448642, 8, 'Whispers and Lies', 'Joy Fielding', 'English', 'Mystery', 'Thriller', 'Fiction', 'Suspense', 'Mystery Thriller', 'Crime', 'Adult', 'Contemporary', 'Romance', 'Drama', 357, 2). tfgdb(165319, ' usa', 28, 1593071639, 8, 'Megatokyo, Volume 1', 'Fred Gallagher, Rodney Caston', 'English', 'Manga', 'Comics', 'Graphic Novels', 'Fiction', 'Humor', 'Webcomic', 'Fantasy', 'Comics Manga', 'Comedy', 'Japan', 152, 3). tfgdb(165319, ' usa', 28, 886774004, 6, 'Arrows Fall', 'Mercedes Lackey', 'English', 'Fantasy', 'Fiction', 'Science Fiction Fantasy', 'Young Adult', 'High Fantasy', 'Magic', 'Epic Fantasy', 'Romance', 'Adventure', 'Adult', 319, 88). tfgdb(165319, ' usa', 28, 152017682, 6, 'The Darkangel', 'Meredith Ann Pierce', 'English', 'Young Adult', 'Fantasy', 'Romance', 'Paranormal', 'Fiction', 'Young Adult Fantasy', 'Angels', 'Vampires', 'Science Fiction', 'Supernatural', 281, 82). tfgdb(165319, ' usa', 28, 425192733, 6, 'Portrait of a Killer: Jack the Ripper - Case Closed', 'Patricia Cornwell (Goodreads Author)', 'English', 'Nonfiction', 'True Crime', 'History', 'Crime', 'Mystery', 'Biography', 'Historical', 'Thriller', 'Horror', 'British Literature', 383, 2).
 tfgdb(166596, ' canada', 57, 375725784, 9, 'A Heartbreaking Work of Staggering Genius', 'Dave Eggers', 'English', 'Fiction', 'Contemporary', 'Literature', 'Novels', 'Humor', 'Biography Memoir', 'American', 'Unfinished', 'Adult', 'Literary Fiction', 485, 0). tfgdb(166596, ' canada', 57, 452284449, 8, 'The Virgin Blue', 'Tracy Chevalier (Goodreads Author)', 'English', 'Historical Fiction', 'Fiction', 'Historical', 'France', 'Art', 'Mystery', 'Romance', 'Adult Fiction', 'Adult', 'Contemporary', 304, 97). tfgdb(166596, ' canada', 57, 385720106, 9, 'A Map of the World', 'Jane Hamilton, Frank Muller (Narrator), CJ Critt (Narrator)', 'English', 'Fiction', 'Contemporary', 'Adult Fiction', 'Literary Fiction', 'Novels', 'Literature', 'Drama', 'Adult', 'Realistic Fiction', 'Family', 400, 92). tfgdb(171118, ' canada', 47, 836220889, 9, 'Calvin and Hobbes', 'Bill Watterson, GB Trudeau (Foreword)', 'English', 'Comics', 'Humor', 'Graphic Novels', 'Fiction', 'Childrens', 'Comedy', 'Graphic Novels Comics', 'Comic Book', 'Classics', 'Comic Strips', 128, 87). tfgdb(171118, ' canada', 47, 61000027, 7, 'Dance Hall of the Dead', 'Tony Hillerman', 'English', 'Mystery', 'Fiction', 'Crime', 'Mystery Thriller', 'Westerns', 'Audiobook', 'Detective', 'Thriller', 'American', 'Adult', 255, 73). tfgdb(171118, ' canada', 47, 684853949, 8, 'The Man Who Mistook His Wife for a Hat and Other Clinical Tales', 'Oliver Sacks', 'English', 'Nonfiction', 'Psychology', 'Science', 'Medicine', 'Neuroscience', 'Medical', 'Short Stories', 'Essays', 'Health', 'Mental Health', 243, 85). tfgdb(171118, ' canada', 47, 671795740, 7, 'The Gripping Hand', 'Larry Niven, Jerry Pournelle', 'English', 'Science Fiction', 'Fiction', 'Science Fiction Fantasy', 'Space Opera', 'Aliens', 'Audiobook', 'Fantasy', 'Space', 'Novels', 'Military Fiction', 413, 76). tfgdb(171118, ' canada', 47, 679767800, 7, 'The Stars My Destination', 'Alfred Bester, Neil Gaiman (Goodreads Author) (Introduction)', 'English', 'Science Fiction', 'Fiction', 'Classics', 'Cyberpunk', 'Science Fiction Fantasy', 'Space Opera', 'Fantasy', 'Novels', 'Speculative Fiction', 'Space', 258, 55). tfgdb(171118, ' canada', 47, 553581058, 8, 'O Jerusalem', 'Laurie R King (Goodreads Author)', 'English', 'Mystery', 'Historical Fiction', 'Fiction', 'Historical Mystery', 'Historical', 'Crime', 'Mystery Thriller', 'Adult', 'Adventure', 'Audiobook', 425, 99). tfgdb(172676, ' usa', 29, 679723110, 10, 'Grendel', 'John Gardner', 'English', 'Fiction', 'Fantasy', 'Classics', 'School', 'Literature', 'Mythology', 'Novels', 'Read For School', 'Philosophy', 'Retellings', 174, 71). tfgdb(172676, ' usa', 29, 380899531, 8, 'Love Only Once', 'Johanna Lindsey', 'English', 'Historical Romance', 'Romance', 'Historical', 'Regency', 'Historical Fiction', 'Fiction', 'Regency Romance', 'Adult', 'British Literature', 'Pirates', 344, 85). tfgdb(172676, ' usa', 29, 380756285, 8, 'Angel', 'Johanna Lindsey', 'English', 'Romance', 'Historical Romance', 'Historical', 'Westerns', 'Western Romance', 'Historical Fiction', 'Fiction', 'Adult', 'Western Historical Romance', 'Love', 416, 92). tfgdb(187822, ' usa', 37, 385486804, 9, 'Into the Wild', 'Jon Krakauer (Goodreads Author)', 'English', 'Nonfiction', 'Biography', 'Travel', 'Adventure', 'Classics', 'Memoir', 'Nature', 'Biography Memoir', 'School', 'Survival', 207, 96). tfgdb(187822, ' usa', 37, 375725784, 8, 'A Heartbreaking Work of Staggering Genius', 'Dave Eggers', 'English', 'Fiction', 'Contemporary', 'Literature', 'Novels', 'Humor', 'Biography Memoir', 'American', 'Unfinished', 'Adult', 'Literary Fiction', 485, 0). tfgdb(187822, ' usa', 37, 812565959, 9, 'Shadow of the Hegemon', 'Orson Scott Card', 'English', 'Science Fiction', 'Fiction', 'Science Fiction Fantasy', 'Fantasy', 'Young Adult', 'Audiobook', 'Adventure', 'Novels', 'Space', 'War', 451, 0). tfgdb(190925, ' usa', 51, 743407083, 7, 'Grand Avenue', 'Joy Fielding', 'English', 'Fiction', 'Thriller', 'Suspense', 'Mystery', 'Chick Lit', 'Romance', 'Contemporary', 'Drama', 'Mystery Thriller', 'Womens Fiction', 560, 1). tfgdb(190925, ' usa', 51, 449223833, 9, 'The Deep Blue Good-By', 'John D MacDonald, Carl Hiaasen (Goodreads Author) (Introduction)', 'English', 'Mystery', 'Fiction', 'Crime', 'Thriller', 'Noir', 'Detective', 'Mystery Thriller', 'Adventure', 'Audiobook', 'Novels', 310, 64). tfgdb(190925, ' usa', 51, 743448642, 7, 'Whispers and Lies', 'Joy Fielding', 'English', 'Mystery', 'Thriller', 'Fiction', 'Suspense', 'Mystery Thriller', 'Crime', 'Adult', 'Contemporary', 'Romance', 'Drama', 357, 2). tfgdb(197659, ' usa', 49, 1576737330, 8, 'The Prayer of Jabez: Breaking Through to the Blessed Life', 'Bruce H Wilkinson', 'English', 'Christian', 'Nonfiction', 'Religion', 'Prayer', 'Christianity', 'Spirituality', 'Faith', 'Christian Living', 'Christian Non Fiction', 'Inspirational', 93, 0). tfgdb(197659, ' usa', 49, 61000027, 9, 'Dance Hall of the Dead', 'Tony Hillerman', 'English', 'Mystery', 'Fiction', 'Crime', 'Mystery Thriller', 'Westerns', 'Audiobook', 'Detective', 'Thriller', 'American', 'Adult', 255, 73). tfgdb(197659, ' usa', 49, 440178002, 8, 'Sh?gun', 'James Clavell', 'English', 'Historical Fiction', 'Fiction', 'Japan', 'Historical', 'Classics', 'Adventure', 'Asia', 'Literature', 'Novels', 'Japanese Literature', 1152, 75). tfgdb(204864, ' usa', 47, 1551667010, 6, 'The Soul Catcher', 'Alex Kava (Goodreads Author)', 'English', 'Mystery', 'Thriller', 'Crime', 'Suspense', 'Fiction', 'Mystery Thriller', 'Detective', 'Romance', 'Romantic Suspense', 'Psychological Thriller', 307, 2). tfgdb(204864, ' usa', 47, 684853949, 8, 'The Man Who Mistook His Wife for a Hat and Other Clinical Tales', 'Oliver Sacks', 'English', 'Nonfiction', 'Psychology', 'Science', 'Medicine', 'Neuroscience', 'Medical', 'Short Stories', 'Essays', 'Health', 'Mental Health', 243, 85). tfgdb(204864, ' usa', 47, 679733973, 8, 'The Killer Inside Me', 'Jim Thompson', 'English', 'Fiction', 'Crime', 'Mystery', 'Noir', 'Thriller', 'Horror', 'Classics', 'Mystery Thriller', 'Novels', 'Suspense', 244, 52). tfgdb(229502, ' romania', 27, 886774004, 9, 'Arrows Fall', 'Mercedes Lackey', 'English', 'Fantasy', 'Fiction', 'Science Fiction Fantasy', 'Young Adult', 'High Fantasy', 'Magic', 'Epic Fantasy', 'Romance', 'Adventure', 'Adult', 319, 88). tfgdb(229502, ' romania', 27, 886776619, 9, 'Storm Warning', 'Mercedes Lackey', 'English', 'Fantasy', 'Fiction', 'Science Fiction Fantasy', 'High Fantasy', 'Magic', 'Epic Fantasy', 'Adult', 'Adventure', 'Young Adult', 'Science Fiction', 428, 94).
  tfgdb(229502, ' romania', 27, 345335708, 10, 'Castle of Wizardry', 'David Eddings', 'English', 'Fantasy', 'Fiction', 'Epic Fantasy', 'Science Fiction Fantasy', 'High Fantasy', 'Adventure', 'Magic', 'Young Adult', 'Epic', 'Audiobook', 375, 84). tfgdb(257204, ' usa', 32, 886774004, 10, 'Arrows Fall', 'Mercedes Lackey', 'English', 'Fantasy', 'Fiction', 'Science Fiction Fantasy', 'Young Adult', 'High Fantasy', 'Magic', 'Epic Fantasy', 'Romance', 'Adventure', 'Adult', 319, 88). tfgdb(257204, ' usa', 32, 886776619, 9, 'Storm Warning', 'Mercedes Lackey', 'English', 'Fantasy', 'Fiction', 'Science Fiction Fantasy', 'High Fantasy', 'Magic', 'Epic Fantasy', 'Adult', 'Adventure', 'Young Adult', 'Science Fiction', 428, 94). tfgdb(257204, ' usa', 32, 812513738, 10, 'The Shadow Rising', 'Robert Jordan', 'English', 'Fantasy', 'Fiction', 'Epic Fantasy', 'Science Fiction Fantasy', 'High Fantasy', 'Epic', 'Adventure', 'Audiobook', 'Magic', 'Adult', 1007, 92). tfgdb(257204, ' usa', 32, 553560220, 10, 'Illusion', 'Paula Volsky', 'English', 'Fantasy', 'Fiction', 'Historical Fiction', 'Historical Fantasy', 'Historical', 'Science Fiction Fantasy', 'Romance', 'Magic', 'Science Fiction', 'Steampunk', 674, 91). tfgdb(257204, ' usa', 32, 345335708, 10, 'Castle of Wizardry', 'David Eddings', 'English', 'Fantasy', 'Fiction', 'Epic Fantasy', 'Science Fiction Fantasy', 'High Fantasy', 'Adventure', 'Magic', 'Young Adult', 'Epic', 'Audiobook', 375, 84). tfgdb(257204, ' usa', 32, 380752867, 10, 'And Eternity', 'Piers Anthony', 'English', 'Fantasy', 'Fiction', 'Science Fiction', 'Science Fiction Fantasy', 'Urban Fantasy', 'Paranormal', 'Magic', 'Mythology', 'Supernatural', 'Adult', 378, 89). tfgdb(257204, ' usa', 32, 345367693, 10, 'The Diamond Throne', 'David Eddings', 'English', 'Fantasy', 'Fiction', 'Epic Fantasy', 'High Fantasy', 'Science Fiction Fantasy', 'Adventure', 'Magic', 'Young Adult', 'Epic', 'Adult', 435, 89). tfgdb(258152, ' canada', 29, 812565959, 9, 'Shadow of the Hegemon', 'Orson Scott Card', 'English', 'Science Fiction', 'Fiction', 'Science Fiction Fantasy', 'Fantasy', 'Young Adult', 'Audiobook', 'Adventure', 'Novels', 'Space', 'War', 451, 0). tfgdb(258152, ' canada', 29, 812550757, 10, 'Speaker for the Dead', 'Orson Scott Card', 'English', 'Science Fiction', 'Fiction', 'Fantasy', 'Science Fiction Fantasy', 'Young Adult', 'Audiobook', 'Space', 'Aliens', 'Novels', 'Space Opera', 382, 86). tfgdb(258152, ' canada', 29, 345367693, 8, 'The Diamond Throne', 'David Eddings', 'English', 'Fantasy', 'Fiction', 'Epic Fantasy', 'High Fantasy', 'Science Fiction Fantasy', 'Adventure', 'Magic', 'Young Adult', 'Epic', 'Adult', 435, 89). tfgdb(265313, ' usa', 33, 836220889, 10, 'Calvin and Hobbes', 'Bill Watterson, GB Trudeau (Foreword)', 'English', 'Comics', 'Humor', 'Graphic Novels', 'Fiction', 'Childrens', 'Comedy', 'Graphic Novels Comics', 'Comic Book', 'Classics', 'Comic Strips', 128, 87). tfgdb(265313, ' usa', 33, 425184226, 6, 'The Sum of All Fears', 'Tom Clancy', '', 'Fiction', 'Thriller', 'Espionage', 'Action', 'Military Fiction', 'Suspense', 'Adventure', 'Mystery', 'Mystery Thriller', 'Spy Thriller', 928, 91). tfgdb(265313, ' usa', 33, 452283442, 8, 'The Darwin Awards: Evolution in Action', 'Wendy Northcutt', 'English', 'Humor', 'Nonfiction', 'Comedy', 'Science', 'Short Stories', 'Reference', 'Evolution', 'Death', 'Anthologies', 'Adult', 352, 0). tfgdb(270713, ' canada', 27, 812565959, 10, 'Shadow of the Hegemon', 'Orson Scott Card', 'English', 'Science Fiction', 'Fiction', 'Science Fiction Fantasy', 'Fantasy', 'Young Adult', 'Audiobook', 'Adventure', 'Novels', 'Space', 'War', 451, 0). tfgdb(270713, ' canada', 27, 812550757, 10, 'Speaker for the Dead', 'Orson Scott Card', 'English', 'Science Fiction', 'Fiction', 'Fantasy', 'Science Fiction Fantasy', 'Young Adult', 'Audiobook', 'Space', 'Aliens', 'Novels', 'Space Opera', 382, 86). tfgdb(270713, ' canada', 27, 765340054, 8, 'Shadow Puppets', 'Orson Scott Card', 'English', 'Science Fiction', 'Fiction', 'Science Fiction Fantasy', 'Fantasy', 'Young Adult', 'Audiobook', 'Novels', 'Adventure', 'Space', 'War', 384, 2).

%Para Filtrado Colaborativo
gustaISBN(IDUser, ISBN) :-
    tfgdb(IDUser,Location,Edad,ISBN,Calificacion,Titulo,Autor,Idioma,Generos1,Generos2,Generos3,Generos4,Generos5,Generos6,Generos7,Generos8,Generos9,Generos10,Paginas,FechaPublicacion),
    Calificacion >= 6.
gustaISBNGen(IDUser, ISBN, [Generos1,Generos2,Generos3,Generos4,Generos5,Generos6,Generos7,Generos8,Generos9,Generos10]):-
    tfgdb(IDUser,Location,Edad,ISBN,Calificacion,Titulo,Autor,Idioma,Generos1,Generos2,Generos3,Generos4,Generos5,Generos6,Generos7,Generos8,Generos9,Generos10,Paginas,FechaPublicacion),
    Calificacion >= 6.
gustaISBNAutor(IDUser,ISBN, Autor):-
    tfgdb(IDUser,Location,Edad,ISBN,Calificacion,Titulo,Autor,Idioma,Generos1,Generos2,Generos3,Generos4,Generos5,Generos6,Generos7,Generos8,Generos9,Generos10,Paginas,FechaPublicacion),
    Calificacion >= 6.
gustaISBNIdio(IDUser,ISBN,Idioma):-
    tfgdb(IDUser,Location,Edad,ISBN,Calificacion,Titulo,Autor,Idioma,Generos1,Generos2,Generos3,Generos4,Generos5,Generos6,Generos7,Generos8,Generos9,Generos10,Paginas,FechaPublicacion),
    Calificacion >= 6.
gustaISBNAnyo(IDUser,ISBN,FechaPublicacion):-
    tfgdb(IDUser,Location,Edad,ISBN,Calificacion,Titulo,Autor,Idioma,Generos1,Generos2,Generos3,Generos4,Generos5,Generos6,Generos7,Generos8,Generos9,Generos10,Paginas,FechaPublicacion),
    Calificacion >= 6.
gustaISBNPags(IDUser,ISBN,Paginas):-
tfgdb(IDUser,Location,Edad,ISBN,Calificacion,Titulo,Autor,Idioma,Generos1,Generos2,Generos3,Generos4,Generos5,Generos6,Generos7,Generos8,Generos9,Generos10,Paginas,FechaPublicacion),
Calificacion >= 6.
esDe(IDUser,Location):-
    tfgdb(IDUser,Location,Edad,ISBN,Calificacion,Titulo,Autor,Idioma,Generos1,Generos2,Generos3,Generos4,Generos5,Generos6,Generos7,Generos8,Generos9,Generos10,Paginas,FechaPublicacion).
tieneEdad(IDUser,Edad):-
    tfgdb(IDUser,Location,Edad,ISBN,Calificacion,Titulo,Autor,Idioma,Generos1,Generos2,Generos3,Generos4,Generos5,Generos6,Generos7,Generos8,Generos9,Generos10,Paginas,FechaPublicacion).


%Para Filtrado basado en contenido
generos(ISBN,[Generos1,Generos2,Generos3,Generos4,Generos5,Generos6,Generos7,Generos8,Generos9,Generos10]):-
    tfgdb(IDUser,Location,Edad,ISBN,Calificacion,Titulo,Autor,Idioma,Generos1,Generos2,Generos3,Generos4,Generos5,Generos6,Generos7,Generos8,Generos9,Generos10,Paginas,FechaPublicacion).
titulo(ISBN, Titulo):-
    tfgdb(IDUser,Location,Edad,ISBN,Calificacion,Titulo,Autor,Idioma,Generos1,Generos2,Generos3,Generos4,Generos5,Generos6,Generos7,Generos8,Generos9,Generos10,Paginas,FechaPublicacion).
autor(ISBN, Autor):-
    tfgdb(IDUser,Location,Edad,ISBN,Calificacion,Titulo,Autor,Idioma,Generos1,Generos2,Generos3,Generos4,Generos5,Generos6,Generos7,Generos8,Generos9,Generos10,Paginas,FechaPublicacion).
numpags(ISBN, Paginas):-
    tfgdb(IDUser,Location,Edad,ISBN,Calificacion,Titulo,Autor,Idioma,Generos1,Generos2,Generos3,Generos4,Generos5,Generos6,Generos7,Generos8,Generos9,Generos10,Paginas,FechaPublicacion).
idioma(ISBN, Idioma):-
    tfgdb(IDUser,Location,Edad,ISBN,Calificacion,Titulo,Autor,Idioma,Generos1,Generos2,Generos3,Generos4,Generos5,Generos6,Generos7,Generos8,Generos9,Generos10,Paginas,FechaPublicacion).
anyopubli(ISBN,FechaPublicacion):-
    tfgdb(IDUser,Location,Edad,ISBN,Calificacion,Titulo,Autor,Idioma,Generos1,Generos2,Generos3,Generos4,Generos5,Generos6,Generos7,Generos8,Generos9,Generos10,Paginas,FechaPublicacion).


%FILTRADO BASADO EN CONTENIDO

    %Similitud dos libros según autor
        0.5:: similitudLibros(ISBN1, ISBN2) :- 
            autor(ISBN1, Autor1),
            autor(ISBN2, Autor1),
            titulo(ISBN1,Titulo1),
            titulo(ISBN2,Titulo2),
            ISBN1 \= ISBN2.





    %Similitud dos libros según generos/etiquetas
        0.05:: similitudLibros(ISBN1,ISBN2):-
            generos(ISBN1, Generos1),
            generos(ISBN2, Generos2),
            intersection(Generos1, Generos2, GenerosComunes),
            length(GenerosComunes, Contador),
            Contador > 0,
            Contador =< 2,
            ISBN1 \= ISBN2.

        0.20:: similitudLibros(ISBN1,ISBN2):-
            generos(ISBN1, Generos1),
            generos(ISBN2, Generos2),
            intersection(Generos1, Generos2, GenerosComunes),
            length(GenerosComunes, Contador),
            Contador >= 3,
            Contador < 7,
            ISBN1 \= ISBN2.

        0.4:: similitudLibros(ISBN1,ISBN2):-
            generos(ISBN1, Generos1),
            generos(ISBN2, Generos2),
            intersection(Generos1, Generos2, GenerosComunes),
            length(GenerosComunes, Contador),
            Contador >= 7,
            ISBN1 \= ISBN2.
        



    %Similitud dos libros según año de publicacion

        %condicion porque los años estan puestos solo con dos digitos
            condicion(X,Res):-
                X < 10,
                Res is X + 100.
            condicion(X,Res):-
                X > 9,
                Res is X.

        0.05 :: similitudLibros(ISBN1,ISBN2):-
            anyopubli(ISBN1,Anyo1),
            condicion(Anyo1,Res1),
            anyopubli(ISBN2,Anyo2),
            condicion(Anyo2,Res2),
            abs(Res1-Res2) < 11,
            ISBN1 \= ISBN2.





    %Similitud dos libros según idioma
        0.05 :: similitudLibros(ISBN1,ISBN2):-
            idioma(ISBN1,Idioma1),
            idioma(ISBN2,Idioma1),
            ISBN1 \= ISBN2.



    %Similitud dos libros según numero de paginas
        0.05 :: similitudLibros(ISBN1,ISBN2):-
            numpags(ISBN1,Num1),
            numpags(ISBN2,Num2),
            abs(Num1-Num2) < 101,
            ISBN1 \= ISBN2.



%FILTRADO COLABORATIVO


    %Similitud usuarios segun libros en comun 

        %predicado para sacar libros comunes
            libros_en_comun(Usuario1,Usuario2,LibrosEnComun):-
                findall(Libro1, gustaISBN(Usuario1, Libro1), Lista1),
                findall(Libro2, gustaISBN(Usuario2, Libro2), Lista2),
                intersection(Lista1,Lista2,LibrosEnComun).

        0.3 :: similitudUsuarios(Usuario1, Usuario2):-
            libros_en_comun(Usuario1,Usuario2,LibrosEnComun),
            Usuario1 \= Usuario2,
            length(LibrosEnComun,Len),
            Len > 0,
            Len < 2.

        0.7 :: similitudUsuarios(Usuario1, Usuario2):-
            tfgdb(Usuario2,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_),
            Usuario1 \= Usuario2,
            libros_en_comun(Usuario1,Usuario2,LibrosEnComun),
            length(LibrosEnComun,Len),
            Len > 1.




    %Similitud usuarios segun autores comunes 

        %predicado para sacar comunes sin contar mismo libro
            contador_autores(Usuario1, Usuario2,Contador):-
            findall(Autor1, (gustaISBNAutor(Usuario1, ISBN1, Autor1), \+ gustaISBNAutor(Usuario2, ISBN1, _)), ListaAutores1), 
            findall(Autor2, (gustaISBNAutor(Usuario2, ISBN2, Autor2), \+ gustaISBNAutor(Usuario1, ISBN2, _)), ListaAutores2), 
            intersection(ListaAutores1, ListaAutores2, AutoresComunes), 
            length(AutoresComunes, Contador).

        0.25 :: similitudUsuarios(Usuario1,Usuario2):-
            contador_autores(Usuario1,Usuario2,Len),
            Len > 0,
            Len < 2.

        0.35 :: similitudUsuarios(Usuario1,Usuario2):-
            contador_autores(Usuario1,Usuario2,Len),
            Len > 1,
            Len < 3.

        0.7 :: similitudUsuarios(Usuario1,Usuario2):-
            contador_autores(Usuario1,Usuario2,Len),
            Len > 2.



    %Similitud usuarios segun generos/Etiquetas comunes

        %predicado para sacar comunes
            contador_generos(Usuario1, Usuario2,Contador):-
                findall(Generos1, (gustaISBNGen(Usuario1, ISBN1, Generos1), \+ gustaISBNGen(Usuario2, ISBN1, _)), ListaGeneros1), 
                findall(Generos2, (gustaISBNGen(Usuario2, ISBN2, Generos2), \+ gustaISBNGen(Usuario1, ISBN2, _)), ListaGeneros2), 
                flatten(ListaGeneros1, ListaPlana1), 
                flatten(ListaGeneros2, ListaPlana2), 
                list_to_set(ListaPlana1, Conjunto1), 
                list_to_set(ListaPlana2, Conjunto2), 
                intersection(Conjunto1, Conjunto2, GenerosComunes), 
                length(GenerosComunes, Contador).

        0.5:: similitudUsuarios(Usuario1, Usuario2):-
            contador_generos(Usuario1,Usuario2,Cont),
            Cont > 8.





    %Similitud usuarios segun idioma comun 

        %predicado para sacar sin tener en cuenta mismo libro
            comprobar_idiomas(Usuario1, Usuario2,ListaPlana):-
                findall(Idioma1, (gustaISBNIdio(Usuario1, ISBN1, Idioma1), \+ gustaISBNIdio(Usuario2, ISBN1, _)), ListaIdioma1), 
                findall(Idioma2, (gustaISBNIdio(Usuario2, ISBN2, Idioma2), \+ gustaISBNIdio(Usuario1, ISBN2, _)), ListaIdioma2), 
                flatten([ListaIdioma1,ListaIdioma2],ListaPlana).

        %predicado para comprobar todos iguales
            todos_iguales([_]).
            todos_iguales([X, X|Resto]) :-
                todos_iguales([X|Resto]).

        0.05 :: similitudUsuarios(Usuario1,Usuario2):-
            comprobar_idiomas(Usuario1, Usuario2,Lista),
            todos_iguales(Lista).




    %Similitud usuarios segun num de paginas

        %predicados para calcular similitud segun diferencia de las paginas
            contador_menor_cien([], _, Contador,Num) :-
                Contador = 0.
            contador_menor_cien([X|RestoLista1], Lista2, Contador,Num) :-
                resta_menor_cien(X, Lista2, ResultadoResta,Num),
                contador_menor_cien(RestoLista1, Lista2, ContadorResto,Num),
                Contador is ResultadoResta + ContadorResto.

            resta_menor_cien(_, [], 0,Num).
            resta_menor_cien(X, [Y|RestoLista2], ResultadoResta, Num) :-
                Resta is abs(X - Y),
                Resta =< Num,
                resta_menor_cien(X, RestoLista2, RestoResta,Num),
                ResultadoResta is 1 + RestoResta.
            resta_menor_cien(X, [Y|RestoLista2], ResultadoResta,Num) :-
                Resta is abs(X - Y),
                Resta > Num,
                resta_menor_cien(X, RestoLista2, ResultadoResta,Num).

        0.005 :: similitudUsuarios(Usuario1, Usuario2):-
            findall(Paginas1, (gustaISBNPags(Usuario1, ISBN1, Paginas1), \+ gustaISBNPags(Usuario2, ISBN1, _)), ListaPaginas1), 
            findall(Paginas2, (gustaISBNPags(Usuario2, ISBN2, Paginas2), \+ gustaISBNPags(Usuario1, ISBN2, _)), ListaPaginas2), 
            contador_menor_cien(ListaPaginas1,ListaPaginas2,Cont,100),
            Cont>0,
            Cont<2.

        0.008 :: similitudUsuarios(Usuario1, Usuario2):-
            findall(Paginas1, (gustaISBNPags(Usuario1, ISBN1, Paginas1), \+ gustaISBNPags(Usuario2, ISBN1, _)), ListaPaginas1), 
            findall(Paginas2, (gustaISBNPags(Usuario2, ISBN2, Paginas2), \+ gustaISBNPags(Usuario1, ISBN2, _)), ListaPaginas2), 
            contador_menor_cien(ListaPaginas1,ListaPaginas2,Cont,100),
            Cont>1,
            Cont<3.

        0.01 :: similitudUsuarios(Usuario1, Usuario2):-
            findall(Paginas1, (gustaISBNPags(Usuario1, ISBN1, Paginas1), \+ gustaISBNPags(Usuario2, ISBN1, _)), ListaPaginas1), 
            findall(Paginas2, (gustaISBNPags(Usuario2, ISBN2, Paginas2), \+ gustaISBNPags(Usuario1, ISBN2, _)), ListaPaginas2), 
            contador_menor_cien(ListaPaginas1,ListaPaginas2,Cont,100),
            Cont>2.




    %Similitud usuarios segun años de publicacion
        %predicado que le pasa la condicion de 2 digitos
            listaanyos([],[]).
            listaanyos([X|Resto],[Res|ResLista]):-
                condicion(X,Res),
                listaanyos(Resto,ResLista).

        0.02 :: similitudUsuarios(Usuario1, Usuario2):-
            findall(Anyo1, (gustaISBNAnyo(Usuario1, ISBN1, Anyo1), \+ gustaISBNAnyo(Usuario2, ISBN1, _)), ListaAnyo1), 
            findall(Anyo2, (gustaISBNAnyo(Usuario2, ISBN2, Anyo2), \+ gustaISBNAnyo(Usuario1, ISBN2, _)), ListaAnyo2), 
            listaanyos(ListaAnyo1,ListaDef1),
            listaanyos(ListaAnyo2,ListaDef2),
            contador_menor_cien(ListaDef1,ListaDef2,Cont,10),
            Cont>0,
            Cont<2.

        0.06 :: similitudUsuarios(Usuario1, Usuario2):-
            findall(Anyo1, (gustaISBNAnyo(Usuario1, ISBN1, Anyo1), \+ gustaISBNAnyo(Usuario2, ISBN1, _)), ListaAnyo1), 
            findall(Anyo2, (gustaISBNAnyo(Usuario2, ISBN2, Anyo2), \+ gustaISBNAnyo(Usuario1, ISBN2, _)), ListaAnyo2), 
            listaanyos(ListaAnyo1,ListaDef1),
            listaanyos(ListaAnyo2,ListaDef2),
            contador_menor_cien(ListaAnyo1,ListaAnyo2,Cont,10),
            Cont>1,
            Cont<3.

        0.09 :: similitudUsuarios(Usuario1, Usuario2):-
            findall(Anyo1, (gustaISBNAnyo(Usuario1, ISBN1, Anyo1), \+ gustaISBNAnyo(Usuario2, ISBN1, _)), ListaAnyo1), 
            findall(Anyo2, (gustaISBNAnyo(Usuario2, ISBN2, Anyo2), \+ gustaISBNAnyo(Usuario1, ISBN2, _)), ListaAnyo2), 
            listaanyos(ListaAnyo1,ListaDef1),
            listaanyos(ListaAnyo2,ListaDef2),
            contador_menor_cien(ListaAnyo1,ListaAnyo2,Cont,10),
            Cont>2.



    %Similitud usuarios segun la edad 

        %predicados para distinguir segun edades diferente baremo
            diferencia(Edad1, Edad2, 3) :-
                (Edad1 =< 20 ; Edad2 =< 20).

            diferencia(Edad1, Edad2, 6) :-
                Edad1 > 20,
                Edad2 > 20,
                (Edad1 < 41 ; Edad2 < 41).

            diferencia(Edad1, Edad2, 0) :-
                Edad1 > 60,
                Edad2 > 60.

            diferencia(Edad1, Edad2, 10) :-
                Edad1 > 41,
                Edad2 > 41,
                (Edad1 < 60 ; Edad2 < 60).

        0.2 :: similitudUsuarios(Usuario1,Usuario2):-
            tieneEdad(Usuario1,Edad1),
            tieneEdad(Usuario2,Edad2),
            diferencia(Edad1, Edad2, Diferencia),
            abs(Edad1-Edad2) < Diferencia.




    %Similitud usuarios segun localizacion
        0.15 :: similitudUsuarios(Usuario1,Usuario2):-
            esDe(Usuario1,Local1),
            esDe(Usuario2,Local1).


%Consultas para similitudUsuarios y similitudLibros sobre usuario 0(explicado memoria)
    query(similitudUsuarios(0,B)):-
        tfgdb(B,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_),
        B \= 0.
    query(similitudLibros(ISBN,A)):-
    tfgdb(0,_,_,ISBN,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_),
    tfgdb(_,_,_,A,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_).


